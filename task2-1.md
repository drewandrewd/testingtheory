# Рецензирование требований

В рамках рецензирования были проанализированы требования на полноту, однозначность и тестируемость до начала функционального тестирования.

## Дефект требований 1: Не определено поведение поиска по файлам в корзине

### Описание
В требованиях указано:
> Если файл находится в корзине — он так же может быть найден поиском.

При этом не уточняется:
- должен ли поиск по умолчанию включать корзину
- требуется ли визуальная индикация, что найденный файл находится в корзине
- доступно ли открытие или восстановление файла из результатов поиска

### Риск
Неоднозначная трактовка требования может приводить к разному поведению реализации и расхождениям в результатах тестирования

### Рекомендация
Уточнить поведение поиска по объектам, находящимся в корзине:
- включается ли корзина в поиск по умолчанию
- как должны отображаться такие объекты в результатах

---

## Дефект требований 2: Не определено точное сообщение при отсутствии результатов поиска

### Описание
Требования содержат строго заданный текст сообщения:
> В вашем Диске не найдено файлов или папок по запросу <...>

При этом не указано:
- допускается ли использование альтернативных формулировок
- критично ли точное совпадение текста для UX и автотестов
- требуется ли подстановка поискового запроса в текст сообщения

### Риск
Расхождения между текстом в требованиях и фактическим UI могут ошибочно классифицироваться как дефекты

### Рекомендация
Зафиксировать допустимый текст сообщения либо описать требование менее строго

## Дефект требований 3: Некорректно указан HTTP-код успешного создания ресурса

### Описание
В требованиях указано:
> В случае успешного выполнения запроса получен ответ 200

Фактическое и документированное поведение API:
- при успешном создании папки возвращается HTTP 201 Created.

### Риск
Некорректное требование приводит к ложным дефектам и ошибкам в автотестах

### Рекомендация
Обновить требование и зафиксировать HTTP-код 201 как корректный для успешного создания папки

## Дефект требований 4: Некорректно указан HTTP-код при создании ресурса по существующему пути

### Описание
В требованиях указано:
> При попытке создания уже по существующему пути — ответ 400

Фактическое поведение API:
- возвращается HTTP 409 Conflict, что соответствует REST-подходу.

### Риск
Требование противоречит фактическому контракту API.

### Рекомендация
Изменить ожидаемый код ответа на 409 Conflict.

## Дефект требований 5: Недостаточно определён формат тела ошибки

### Описание
Требования указывают следующий формат тела ошибки:
`json
{ "message": "string", "description": "string", "error": "string" }